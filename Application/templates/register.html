{% extends "layout.html" %}

{% block content %}

<div class="container">
  <form name="register" action="" method="post" novalidate>
    {{ form.csrf_token }}

    
      <legend>{{ title }}</legend>

      <div class="form-group">
        {{ form.email.label }}
        {{ form.email }}
        {% for error in form.email.errors %}
        <span class="error-message">{{ error }}</span>
        {% endfor %}
      </div>

      <div class="form-group">
        {{ form.password.label }}
        {{ form.password }}
        {% for error in form.password.errors %}
        <span class="error-message">{{ error }}</span>
        {% endfor %}
      </div>

      <div class="form-group">
        {{ form.password_confirm.label }}
        {{ form.password_confirm }}
        {% for error in form.password_confirm.errors %}
        <span class="error-message">{{ error }}</span>
        {% endfor %}
      </div>

      <div class="form-group">
        {{ form.first_name.label }}
        {{ form.first_name }}
        {% for error in form.first_name.errors %}
        <span class="error-message">{{ error }}</span>
        {% endfor %}
      </div>

      <div class="form-group">
        {{ form.last_name.label }}
        {{ form.last_name }}
        {% for error in form.last_name.errors %}
        <span class="error-message">{{ error }}</span>
        {% endfor %}
      </div>

      <div class="form-group">
        {{ form.education_level.label }}
        {{ form.education_level }}
        {% for error in form.education_level.errors %}
        <span class="error-message">{{ error }}</span>
        {% endfor %}
      </div>

      <div>
        {% if form.education_level.data == 'UG' %}
         <input name="score" value="None" type = "hidden" disabled/>
        {% else %}
        <p> {{ form.previous_courses.label }}</br>
            {{ form.previous_courses }}
            {% for error in form.previous_courses.errors %}
            <span class="error-message">{{ error }}</span>
            {% endfor %}
        </p>
      </div>
      {% endif %}


      <div class="form-group">
        {% if form.education_level.data == 'UG' %}
        <!-- block the input and fix the value to be None -->
        <input type="hidden" name="grade" value="None" disabled />
        {% else %}
        {{ form.grade.label }}
        {{ form.grade }}
        {% for error in form.grade.errors %}
        <span class="error-message">{{ error }}</span>
        {% endfor %}
      </div>
      {% endif %}
      

      <div class="form-group">
        {% if form.education_level.data == 'UG' %}
        <!-- block the input and fix the value to be None -->
        <input name="score" value="None" type = "hidden" disabled/>
        {% else %}
        {{ form.score.label }}
        {{ form.score }}
        {% for error in form.score.errors %}
        <span class="error-message">{{ error }}</span>
        {% endfor %}
      </div>
      {% endif %}

      <button type="submit" class="btn btn-primary">Register</button>

    </fieldset>
  </form>
</div>

{% endblock %}
